@model EduHubLiving.Models.RecipeDto

<h2>Edit Recipe</h2>

<form id="editForm" method="post" action="@Url.Action("Update", "Recipe", new { id = Model.RecipeID })">
    <div class="form-group">
        <label>Recipe Name</label>
        <input type="text" name="RecipeName" value="@Model.RecipeName" class="form-control" required />
    </div>

    <div class="form-group">
        <label>Recipe Type</label>
        <input type="text" name="RecipeType" value="@Model.RecipeType" class="form-control" required />
    </div>

    <div class="form-group">
        <label>Recipe Description</label>
        <textarea name="RecipeDescription" class="form-control" required>@Model.RecipeDescription</textarea>
    </div>

    <div class="form-group">
        <label>Recipe Instructions</label>
        <textarea name="RecipeInstructions" class="form-control" required>@Model.RecipeInstructions</textarea>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
</form>

<a href="@Url.Action("List", "Recipe")" class="btn btn-default">Back to List</a>

<script>
    document.getElementById("editForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent the form from submitting normally

        // Perform AJAX submission or handle form submission as needed
        var formData = new FormData(this);

        fetch(this.action, {
            method: 'POST',
            body: formData
        }).then(function(response) {
            if (response.ok) {
                window.location.href = "@Url.Action("List", "Recipe")"; // Redirect to list after successful submission
            } else {
                alert("Error: " + response.statusText);
            }
        }).catch(function(error) {
            console.error('Error:', error);
        });
    });
</script>


